<div class="top-bar-container">
  <!-- the main nav bar! -->
  <div class="row justify-content-between align-items-center top-bar-nav">
    <div class="vertical-center home-icon-container">
      <button
        type="button"
        class="button transparent"
        (click)="this.navigate('')"
      >
        <div class="icogram">
          <div
            class="icon mdi mdi-home-outline large-icon nav-icon"
            aria-hidden="true"
            role="img"
          ></div>
        </div>
      </button>
    </div>
    <div class="vertical-center hamburger-icon-container">
      <button type="button" class="button transparent">
        <div class="icogram">
          <div
            class="icon mdi mdi-menu large-icon hamburger-icon"
            aria-hidden="true"
            role="img"
            (click)="menuLayer.open()"
          ></div>
        </div>
      </button>
    </div>
    <div class="vertical-center">
      <img
        class="logo"
        src="../../../assets/logos/restore_logo_wb.svg"
        alt="restorelogo"
      />
    </div>
    <div class="vertical-center men-women-container">
      <ng-container>
        <h4>{{ "Men" | translate }}</h4>
        <h4>{{ "Women" | translate }}</h4>
      </ng-container>
    </div>
    <div class="align-right top-bar-search-container">
      <vcl-icon icon="mdi:magnify" class="search-icon"></vcl-icon>
      <input class="top-bar-search" placeholder="Search" />
    </div>
    <div class="vertical-center">
      <button type="button" class="button nav-icon-container transparent">
        <div class="icogram">
          <div
            class="icon mdi mdi-earth large-icon nav-icon"
            aria-hidden="true"
            role="img"
            (click)="languageLayer.open()"
          ></div>
        </div>
      </button>
      <button type="button" class="button nav-icon-container transparent">
        <div class="icogram">
          <div
            class="icon mdi mdi-message-outline large-icon nav-icon"
            aria-hidden="true"
            role="img"
          ></div>
        </div>
      </button>
      <button type="button" class="button nav-icon-container transparent">
        <div class="icogram">
          <div
            class="icon mdi mdi-map-marker-outline large-icon nav-icon"
            aria-hidden="true"
            role="img"
          ></div>
        </div>
      </button>
      <button
        type="button"
        class="button nav-icon-container transparent"
        (click)="this.navigate('/profile')"
      >
        <div class="icogram">
          <div
            class="icon mdi mdi-account-outline large-icon nav-icon"
            aria-hidden="true"
            role="img"
          ></div>
        </div>
      </button>
      <button type="button" class="button nav-icon-container transparent">
        <div class="icogram">
          <div
            class="icon mdi mdi-cart-outline large-icon nav-icon cart-icon"
            aria-hidden="true"
            role="img"
            (click)="cartLayer.open()"
          ></div>
        </div>
      </button>
    </div>
  </div>
  <!-- Application layers! -->

  <!-- the language layer -->
  <ng-template vclLayer #languageLayer="vclLayer">
    <vcl-panel-dialog
      [showCloseButton]="true"
      (close)="languageLayer.close()"
      class="pos-cart-absolute"
    >
      <vcl-panel-title>{{ "TopBar.PanelTitle" | translate }}</vcl-panel-title>
      <h3>{{ "TopBar.SecondaryHeading" | translate }}</h3>
      <vcl-form-control-group>
        <vcl-select>
          <vcl-select-list [(value)]="this.language">
            <vcl-select-list-item value="de">
              {{ "TopBar.DeliveryLocationDe" | translate }}
            </vcl-select-list-item>
            <vcl-select-list-item value="en">
              {{ "TopBar.DeliveryLocationUk" | translate }}
            </vcl-select-list-item>
          </vcl-select-list>
        </vcl-select>
      </vcl-form-control-group>
      <h3>{{ "TopBar.Language" | translate }}</h3>
      <vcl-form-control-group>
        <vcl-select>
          <vcl-select-list [value]="this.language" [disabled]="true">
            <vcl-select-list-item value="de">
              {{ "TopBar.LanguageDe" | translate }}
            </vcl-select-list-item>
            <vcl-select-list-item value="en">
              {{ "TopBar.LanguageEn" | translate }}
            </vcl-select-list-item>
          </vcl-select-list>
        </vcl-select>
      </vcl-form-control-group>
      <h3>{{ "TopBar.Currency" | translate }}</h3>
      <vcl-form-control-group>
        <vcl-select>
          <vcl-select-list [value]="this.language" [disabled]="true">
            <vcl-select-list-item value="de">
              {{ "TopBar.CurrencyEur" | translate }}
            </vcl-select-list-item>
            <vcl-select-list-item value="en">
              {{ "TopBar.CurrencyPound" | translate }}
            </vcl-select-list-item>
          </vcl-select-list>
        </vcl-select>
      </vcl-form-control-group>
      <div class="row">
        <button
          vcl-button
          class="flex"
          (click)="this.setLanguage(); languageLayer.close()"
        >
          <vcl-icogram>
            {{ "TopBar.Apply" | translate }}
          </vcl-icogram>
        </button>
      </div>
    </vcl-panel-dialog>
  </ng-template>

  <!-- the cart layer -->
  <ng-template vclLayer #cartLayer="vclLayer">
    <vcl-panel-dialog
      [showCloseButton]="true"
      (close)="cartLayer.close()"
      class="pos-cart-absolute"
    >
      <vcl-panel-title>{{
        "TopBar.OrderOverview" | translate
      }}</vcl-panel-title>
      <ng-container *ngIf="cartService.getCartItemCount() > 0">
        <div class="row">
          <button
            vcl-button
            class="flex"
            (click)="cartLayer.close(); this.navigate('/checkout')"
          >
            <vcl-icogram>
              {{ "TopBar.ToCheckout" | translate }}
            </vcl-icogram>
          </button>
        </div>
      </ng-container>
      <ng-container *ngFor="let item of cartService.getCartItems()">
        <hr />
        <div class="row">
          <div class="flex-5 align-left">
            <p>{{ item.desc }}</p>
            <p>{{ "TopBar.UnitPrice" | translate }}: {{ item.price }} €</p>
          </div>
          <div class="flex-6">
            <img class="responsive-image" [src]="item.imgSrc" />
          </div>
          <div class="flex-1 align-right">
            <button
              type="button"
              class="button transparent"
              (click)="cartService.removeCartItem(item.sku)"
            >
              <div class="icogram">
                <div
                  class="icon mdi mdi-cart-remove"
                  aria-hidden="true"
                  role="img"
                ></div>
              </div>
            </button>
          </div>
        </div>
        <hr />
      </ng-container>
      <ng-container *ngIf="this.cartService.getCartItemCount() == 0">
        <hr />
        <p>{{ "TopBar.YourShoppingCartCurrently" | translate }}</p>
        <hr />
      </ng-container>
      <ng-container *ngIf="this.cartService.getCartItemCount() > 0">
        <div class="row">
          <div class="flex align-left">
            {{ "TopBar.YourOrders" | translate }}
          </div>
        </div>
        <div class="row">
          <div class="flex align-left">
            {{ "TopBar.TotalAmountOf" | translate }}
          </div>
          <div class="flex align-right">
            {{ cartService.getCartItemTotal() }} €
          </div>
        </div>
        <div class="row">
          <div class="flex align-left">
            {{ "TopBar.DHLPackageShipping" | translate }}
          </div>
          <div class="flex align-right">
            {{ cartService.getCartShipping() }} €
          </div>
        </div>
        <div class="row">
          <div class="flex align-left">
            {{ "TopBar.DeliveryInApprox" | translate }}
          </div>
        </div>
        <div class="row">
          <div class="flex align-left">
            {{ "TopBar.incl" | translate }}
          </div>
          <div class="flex align-right">
            {{ "Task value placeholder" }}
            €
          </div>
        </div>
        <hr />
        <div class="row">
          <div class="flex align-left">
            {{ "TopBar.TotalPrice" | translate }}
          </div>
          <div class="flex align-right">
            {{ this.cartService.getCartTotalGross() }} €
          </div>
        </div>
        <div class="row">
          <button
            vcl-button
            class="flex"
            (click)="cartLayer.close(); this.navigate('/checkout')"
          >
            <vcl-icogram>
              {{ "TopBar.ToCheckout" | translate }}
            </vcl-icogram>
          </button>
        </div>
      </ng-container>
    </vcl-panel-dialog>
  </ng-template>

  <!-- the menu layer -->
  <ng-template vclLayer #menuLayer="vclLayer">
    <vcl-panel-dialog
      [showCloseButton]="true"
      (close)="menuLayer.close()"
      class="pos-menu-absolute"
    >
      <vcl-panel-title>
        <button type="button" class="button transparent">
          <div class="icogram">
            <div
              class="icon mdi mdi-home-outline large-icon"
              aria-hidden="true"
              role="img"
            ></div>
          </div>
        </button>
        <button type="button" class="button transparent">
          <div class="icogram">
            <div
              class="icon mdi mdi-account-outline large-icon"
              aria-hidden="true"
              role="img"
            ></div>
          </div>
        </button>
        <button type="button" class="button transparent">
          <div class="icogram">
            <div
              class="icon mdi mdi-earth large-icon"
              aria-hidden="true"
              role="img"
              (click)="menuLayer.close(); languageLayer.open()"
            ></div>
          </div>
        </button>
        <button type="button" class="button transparent">
          <div class="icogram">
            <div
              class="icon mdi mdi-cart-outline large-icon"
              aria-hidden="true"
              role="img"
              (click)="menuLayer.close()"
            ></div>
          </div>
        </button>
      </vcl-panel-title>
      <vcl-navigation layout="horizontal">
        <vcl-navigation-item>
          <vcl-navigation-label>
            <vcl-icogram>
              {{ "Men" | translate }}
            </vcl-icogram>
          </vcl-navigation-label>
        </vcl-navigation-item>
        <vcl-navigation-item>
          <vcl-navigation-label>
            <vcl-icogram>
              {{ "Women" | translate }}
            </vcl-icogram>
          </vcl-navigation-label>
        </vcl-navigation-item>
      </vcl-navigation>
      <hr />
      <vcl-navigation>
        <vcl-navigation-item>
          <vcl-navigation-label>
            <vcl-icogram>
              {{ "Women" | translate }}
            </vcl-icogram>
          </vcl-navigation-label>
        </vcl-navigation-item>
        <vcl-navigation-item>
          <vcl-navigation-label>
            <vcl-icogram>
              {{ "Dress" | translate }}
            </vcl-icogram>
          </vcl-navigation-label>
        </vcl-navigation-item>
        <vcl-navigation-item>
          <vcl-navigation-label>
            <vcl-icogram>
              {{ "Navigation.Shoes" | translate }}
            </vcl-icogram>
          </vcl-navigation-label>
        </vcl-navigation-item>
        <vcl-navigation-item>
          <vcl-navigation-label>
            <vcl-icogram>
              {{ "Navigation.Accessories" | translate }}
            </vcl-icogram>
          </vcl-navigation-label>
        </vcl-navigation-item>
        <vcl-navigation-item>
          <vcl-navigation-label>
            <vcl-icogram>
              {{ "Navigation.Suit" | translate }}
            </vcl-icogram>
          </vcl-navigation-label>
        </vcl-navigation-item>
        <vcl-navigation-item>
          <vcl-navigation-label>
            <vcl-icogram>
              {{ "Navigation.Specials" | translate }}
            </vcl-icogram>
          </vcl-navigation-label>
        </vcl-navigation-item>
        <vcl-navigation-item>
          <vcl-navigation-label>
            <vcl-icogram>
              {{ "Navigation.Gifts" | translate }}
            </vcl-icogram>
          </vcl-navigation-label>
        </vcl-navigation-item>
        <vcl-navigation-item>
          <vcl-navigation-label>
            <vcl-icogram>
              {{ "Navigation.Children" | translate }}
            </vcl-icogram>
          </vcl-navigation-label>
        </vcl-navigation-item>
        <vcl-navigation-item>
          <vcl-navigation-label>
            <vcl-icogram>
              {{ "Navigation.Inspiration" | translate }}
            </vcl-icogram>
          </vcl-navigation-label>
        </vcl-navigation-item>
      </vcl-navigation>
    </vcl-panel-dialog>
  </ng-template>
</div>
